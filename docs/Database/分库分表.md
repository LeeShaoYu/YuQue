## 为什么要分库分表

| #            | 分库分表前                   | 分库分表后                                   |
| ------------ | ---------------------------- | -------------------------------------------- |
| 并发支撑情况 | MySQL 单机部署，扛不住高并发 | MySQL从单机到多机，能承受的并发增加了多倍    |
| 磁盘使用情况 | MySQL 单机磁盘容量几乎撑满   | 拆分为多个库，数据库服务器磁盘使用率大大降低 |
| SQL 执行性能 | 单表数据量太大，SQL 越跑越慢 | 单表数据量减少，SQL 执行效率明显提升         |

## 常用分库分表中间件

- Cobar
- TDDL
- Atlas
- Sharding-jdbc
- Mycat

## 如何分库分表

### 垂直拆分

### 水平拆分

## 动态扩容

## 主键处理

## MySQL读写分离、主从复制、主从同步